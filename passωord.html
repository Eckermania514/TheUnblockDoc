<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Weekly Password Protected Page</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f4f4f4; }
    #protected-content { display: none; margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>Password Required</h1>
  <p>The password changes every week. Please email eckermania514@gmail.com for help. If you enter the incorrect password, you will be assumed to be an FCPS IT department member, and we will respond in kind.</p>
  <input type="text" id="password" placeholder="Enter password" />
  <button onclick="checkPassword()">Submit</button>

  <div id="protected-content">
    <h2>Welcome to The Unblock Doc!</h2>
    <p>No current working methods. Please check back later</p>
  </div>

  <script>
    function getWeekNumber(date) {
      const firstJan = new Date(date.getFullYear(), 0, 1);
      const pastDaysOfYear = (date - firstJan) / 86400000;
      return Math.ceil((pastDaysOfYear + firstJan.getDay() + 1) / 7);
    }

    function generatePassword() {
      const now = new Date();
      const week = getWeekNumber(now);
      const day = now.getDate();
      const numberPart = week * 514 + day;
      return `igoontofemboys${numberPart}`;
    }

    function checkPassword() {
      const userInput = document.getElementById("password").value;
      const correctPassword = generatePassword();
      if (userInput === correctPassword) {
        document.getElementById("protected-content").style.display = "block";
        document.querySelector("input").style.display = "none";
        document.querySelector("button").style.display = "none";
      } else {
        window.location.href = "lol.html";
      }
    }
  </script>
</body>
</html>
